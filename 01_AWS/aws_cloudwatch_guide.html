<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AWS CloudWatch - Complete Training Guide</title>
    <!-- Learning Tracker -->
    <script src="../learning_tracker.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #FF61D2 0%, #FE9090 100%);
            /* CloudWatch pink/red theme */
            color: #333;
            line-height: 1.8;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            overflow: hidden;
        }

        header {
            background: linear-gradient(135deg, #be123c 0%, #e11d48 100%);
            color: white;
            padding: 50px;
            text-align: center;
        }

        header h1 {
            font-size: 3em;
            margin-bottom: 10px;
        }

        header p {
            font-size: 1.3em;
            opacity: 0.95;
        }

        .content {
            padding: 50px;
        }

        h2 {
            color: #be123c;
            margin-top: 40px;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 3px solid #fb7185;
            font-size: 2em;
        }

        h3 {
            color: #e11d48;
            margin-top: 30px;
            margin-bottom: 15px;
            font-size: 1.5em;
        }

        h4 {
            color: #9f1239;
            margin-top: 20px;
            margin-bottom: 10px;
            font-size: 1.2em;
        }

        .analogy-box {
            background: linear-gradient(135deg, #ffe4e6 0%, #fecdd3 100%);
            border-left: 6px solid #be123c;
            padding: 25px;
            margin: 25px 0;
            border-radius: 10px;
        }

        .concept-box {
            background: linear-gradient(135deg, #fff1f2 0%, #ffe4e6 100%);
            border-left: 6px solid #fb7185;
            padding: 25px;
            margin: 25px 0;
            border-radius: 10px;
        }

        .spec-box {
            background: linear-gradient(135deg, #f0fdf4 0%, #dcfce7 100%);
            border-left: 6px solid #16a34a;
            padding: 25px;
            margin: 25px 0;
            border-radius: 10px;
        }

        .example-box {
            background: #f8fafc;
            border-left: 4px solid #3b82f6;
            padding: 25px;
            margin: 20px 0;
            border-radius: 8px;
        }

        .warning-box {
            background: linear-gradient(135deg, #fef2f2 0%, #fee2e2 100%);
            border-left: 6px solid #ef4444;
            padding: 25px;
            margin: 25px 0;
            border-radius: 10px;
        }

        pre {
            background: #1e293b;
            color: #e2e8f0;
            padding: 20px;
            border-radius: 8px;
            overflow-x: auto;
            margin: 15px 0;
            border: 2px solid #334155;
        }

        code {
            font-family: 'Courier New', monospace;
            font-size: 0.95em;
        }

        ul,
        ol {
            margin-left: 25px;
            margin-top: 10px;
            margin-bottom: 10px;
        }

        li {
            margin: 8px 0;
        }

        strong {
            color: #be123c;
        }

        .diagram {
            background: #f8fafc;
            padding: 30px;
            border-radius: 10px;
            margin: 25px 0;
            border: 2px solid #e2e8f0;
            text-align: center;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            background: white;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
            border-radius: 8px;
            overflow: hidden;
        }

        th {
            background: linear-gradient(135deg, #be123c 0%, #e11d48 100%);
            color: white;
            padding: 15px;
            text-align: left;
            font-weight: 600;
        }

        td {
            padding: 12px 15px;
            border-bottom: 1px solid #e5e7eb;
        }

        .emoji {
            font-size: 1.5em;
            margin-right: 10px;
        }
    </style>
</head>

<body data-module-name="01_aws_aws_cloudwatch_guide">

    <!-- Nav -->
    <a href="../TRAINING_HUB.html"
        style="display: inline-block; margin: 20px; text-decoration: none; color: #333; font-weight: bold;">‚¨ÖÔ∏è Back to
        Hub</a>

    <div class="container">
        <header>
            <h1>üëÄ AWS CloudWatch</h1>
            <p>The Eyes and Ears of Your AWS Infrastructure</p>
        </header>

        <div class="content">
            <h2><span class="emoji">üìñ</span> What is AWS CloudWatch?</h2>

            <p>Amazon CloudWatch is a <strong>monitoring and observability service</strong> that enables you to collect
                and track metrics, monitor log files, set alarms, and automatically react to changes in your AWS
                resources.</p>

            <div class="concept-box">
                <h3>The 4 Key Capabilities (User Defined)</h3>
                <ol>
                    <li><strong>Monitoring & Observability:</strong> Helps users gain insights into the operational
                        health, performance, and resource utilization of their AWS infrastructure.</li>
                    <li><strong>Data Collection:</strong> Collects monitoring and operational data in the form of
                        <strong>Logs</strong>, <strong>Metrics</strong>, and <strong>Events</strong>, providing an
                        aggregated view of your system.
                    </li>
                    <li><strong>Actionable Insights:</strong> Can be used to detect anomalous behavior, set warnings and
                        alarms, and visualize data side-by-side.</li>
                    <li><strong>Automation:</strong> CloudWatch can take automated actions (like scaling an ASG or
                        rebooting an EC2 instance) based on the data it collects.</li>
                </ol>
            </div>

            <div class="analogy-box">
                <h3>üöó Real-World Analogy: The Car Dashboard</h3>
                <p>Think of CloudWatch as your <strong>Car's Dashboard and Computer System</strong>:</p>
                <ul>
                    <li><strong>Metrics (Speedometer/Fuel Gauge):</strong> Tells you numbers in real-time. "My speed is
                        60mph" (EC2 CPU is 40%).</li>
                    <li><strong>Alarms (Check Engine Light):</strong> Turns on when something is wrong. "Fuel is low!"
                        (Disk space is &lt; 10%).</li>
                    <li><strong>Logs (Black Box):</strong> Records a detailed history of what happened. "Engine started
                        at 8:00 AM, shifted gear at 8:01 AM".</li>
                    <li><strong>Events/Automation (Automatic Braking):</strong> The car senses a collision (metric
                        spike) and automatically applies brakes (triggers Lambda/AutoScaling).</li>
                </ul>
            </div>

            <h2><span class="emoji">üèõÔ∏è</span> The Three Pillars of CloudWatch</h2>

            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px;">
                <div class="spec-box"
                    style="margin: 0; border-left-color: #3b82f6; background: linear-gradient(135deg, #eff6ff 0%, #dbeafe 100%);">
                    <h3 style="color: #1d4ed8;">1. Metrics</h3>
                    <p><strong>Analogy: Medical Charts üè•</strong></p>
                    <p>Just like a doctor tracks your <strong>Heart Rate (BPM)</strong> and <strong>Blood
                            Pressure</strong> over time to see trends.</p>
                    <hr style="border: 0; border-top: 1px solid #bfdbfe; margin: 10px 0;">
                    <p><strong>Real World:</strong></p>
                    <ul>
                        <li>CPU Utilization (%)</li>
                        <li>Network In/Out (Bytes)</li>
                        <li>Disk R/W Ops (Count)</li>
                    </ul>
                </div>

                <div class="spec-box"
                    style="margin: 0; border-left-color: #f59e0b; background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%);">
                    <h3 style="color: #b45309;">2. Logs</h3>
                    <p><strong>Analogy: Security Camera Footage üìπ</strong></p>
                    <p>A detailed, timestamped record of <em>everything</em> that happened. "At 2:00 PM, a person in a
                        red shirt entered."</p>
                    <hr style="border: 0; border-top: 1px solid #fde68a; margin: 10px 0;">
                    <p><strong>Real World:</strong></p>
                    <ul>
                        <li>"Error: Database Connection Failed"</li>
                        <li>"User 123 logged in"</li>
                        <li>Apache Access Logs</li>
                    </ul>
                </div>

                <div class="spec-box"
                    style="margin: 0; border-left-color: #ef4444; background: linear-gradient(135deg, #fee2e2 0%, #fecaca 100%);">
                    <h3 style="color: #b91c1c;">3. Alarms</h3>
                    <p><strong>Analogy: Home Security System üö®</strong></p>
                    <p>You set a rule: "If the window opens (Metric) while I'm away, sound the siren (Action)."</p>
                    <hr style="border: 0; border-top: 1px solid #fecaca; margin: 10px 0;">
                    <p><strong>Real World:</strong></p>
                    <ul>
                        <li>If CPU > 80% for 5 mins...</li>
                        <li>Then: Send email to Admin</li>
                        <li>And: Add another server</li>
                    </ul>
                </div>
            </div>

            <h2><span class="emoji">üèóÔ∏è</span> Architecture Visualization</h2>

            <div class="diagram">
                <h3>How CloudWatch Works</h3>
                <div style="display: flex; justify-content: space-around; align-items: center; flex-wrap: wrap;">
                    <div style="background: #e2e8f0; padding: 20px; border-radius: 8px; width: 25%;">
                        <strong>Sources</strong><br><br>
                        üñ•Ô∏è EC2 Instances<br>
                        ‚ö° Lambda<br>
                        üóÑÔ∏è RDS Databases<br>
                        üåê API Gateway<br>
                        üìù Custom Apps
                    </div>
                    <div style="font-size: 30px;">‚û°Ô∏è</div>
                    <div
                        style="background: #be123c; color: white; padding: 20px; border-radius: 8px; width: 30%; box-shadow: 0 10px 20px rgba(190, 18, 60, 0.3);">
                        <strong>AWS CLOUDWATCH</strong><br><br>
                        üìä Metrics & Dashboards<br>
                        üìú Log Groups & Streams<br>
                        üîî Alarm Engine<br>
                        üìÖ Event Rules
                    </div>
                    <div style="font-size: 30px;">‚û°Ô∏è</div>
                    <div style="background: #dcfce7; padding: 20px; border-radius: 8px; width: 25%;">
                        <strong>Actions</strong><br><br>
                        üìß SNS Notification<br>
                        ü§ñ Lambda Function<br>
                        üìà Auto Scaling<br>
                        üîÑ Reboot Instance
                    </div>
                </div>
            </div>

            <h2><span class="emoji">üìñ</span> Key Terms & Definitions</h2>
            <p>Master the language of AWS Observability:</p>

            <div class="spec-box">
                <h3>1. Metric Concepts</h3>
                <table>
                    <tr>
                        <th style="width: 25%;">Term</th>
                        <th style="width: 75%;">Definition</th>
                    </tr>
                    <tr>
                        <td><strong>Metric</strong></td>
                        <td>A time-ordered set of data points (numbers) that represent a variable to
                            monitor.<br><em>Example:</em> <code>CPUUtilization</code></td>
                    </tr>
                    <tr>
                        <td><strong>Namespace</strong></td>
                        <td>A container for metrics. Finds where the metric comes from.<br><em>Example:</em>
                            <code>AWS/EC2</code> or <code>MyApp/Production</code>
                        </td>
                    </tr>
                    <tr>
                        <td><strong>Dimension</strong></td>
                        <td>A name/value pair that uniquely identifies a metric. Helps filtering.<br><em>Example:</em>
                            <code>InstanceId=i-1234567890</code>
                        </td>
                    </tr>
                    <tr>
                        <td><strong>Resolution</strong></td>
                        <td>The granularity of the data. Standard is 1 minute; High Resolution is 1
                            second.<br><em>Example:</em> Capturing data every 1 second vs every 5 minutes</td>
                    </tr>
                </table>
            </div>

            <div class="spec-box">
                <h3>2. Logging Concepts</h3>
                <table>
                    <tr>
                        <th style="width: 25%;">Term</th>
                        <th style="width: 75%;">Definition</th>
                    </tr>
                    <tr>
                        <td><strong>Log Event</strong></td>
                        <td>A single record of activity. Contains a timestamp and a raw message.<br><em>Example:</em>
                            <code>2024-01-01 12:00:00 [ERROR] Connection Failed</code>
                        </td>
                    </tr>
                    <tr>
                        <td><strong>Log Stream</strong></td>
                        <td>A sequence of log events from the <strong>same source</strong>.<br><em>Example:</em> Output
                            from a specific Lambda function instance (instance-id-1)</td>
                    </tr>
                    <tr>
                        <td><strong>Log Group</strong></td>
                        <td>A group of log streams that share the same retention, monitoring, and access control
                            settings.<br><em>Example:</em> <code>/aws/lambda/my-function</code> (collects streams from
                            all instances)</td>
                    </tr>
                </table>
            </div>

            <div class="spec-box">
                <h3>3. Alarm Concepts</h3>
                <table>
                    <tr>
                        <th style="width: 25%;">Term</th>
                        <th style="width: 75%;">Definition</th>
                    </tr>
                    <tr>
                        <td><strong>Alarm State</strong></td>
                        <td>
                            <ul>
                                <li><code>OK</code>: Metric is within threshold.</li>
                                <li><code>ALARM</code>: Metric breached threshold (e.g., CPU > 80%).</li>
                                <li><code>INSUFFICIENT_DATA</code>: Not enough data to decide.</li>
                            </ul>
                        </td>
                    </tr>
                    <tr>
                        <td><strong>Period</strong></td>
                        <td>The length of time to evaluate the metric.<br><em>Example:</em> "Average CPU over <strong>5
                                minutes</strong>"</td>
                    </tr>
                    <tr>
                        <td><strong>Statistic</strong></td>
                        <td>How to aggregate data points over the period.<br><em>Options:</em> Sum, Average, Minimum,
                            Maximum, SampleCount</td>
                    </tr>
                </table>
            </div>

            <h2><span class="emoji">‚≠ê</span> Why Use CloudWatch? (Benefits)</h2>

            <div class="success-box">
                <h3>1. Unified View (Single Pane of Glass)</h3>
                <p><strong>Problem:</strong> Your database logs are in RDS, your server logs are on EC2, and your load
                    balancer metrics are in another tool.</p>
                <p><strong>Solution:</strong> CloudWatch collects data from <strong>ALL</strong> AWS services into one
                    dashboard. You can graph EC2 CPU alongside RDS Connections on the same chart.</p>
            </div>

            <div class="success-box">
                <h3>2. No Infrastructure to Manage</h3>
                <p><strong>Problem:</strong> Running your own monitoring stack (Prometheus/Grafana/ELK) requires
                    managing servers, storage, and scaling.</p>
                <p><strong>Solution:</strong> CloudWatch is <strong>Serverless</strong>. You just send data; AWS handles
                    the ingestion, storage, and retention scaling automatically.</p>
            </div>

            <div class="success-box">
                <h3>3. Automate Responses</h3>
                <p><strong>Problem:</strong> You have to manually watch graphs to see if a server crashes.</p>
                <p><strong>Solution:</strong> CloudWatch Alarms trigger <strong>automated actions</strong>. CPU High? ->
                    Scaling Policy adds a server. Disk Full? -> Reboot.</p>
            </div>

            <h2><span class="emoji">üïµÔ∏è</span> The "Invisible" Code: Manual vs. Managed</h2>
            <p><strong>Why CloudWatch feels like magic:</strong> It replaces thousands of lines of monitoring
                infrastructure code.</p>

            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin: 20px 0;">
                <div style="background: #fee2e2; padding: 20px; border-radius: 8px; border: 1px solid #ef4444;">
                    <h4 style="color: #b91c1c;">üö´ The Old Way (Manual)</h4>
                    <pre style="background: #450a0a; border-color: #7f1d1d;"><code># Cron job running every minute
cpu_usage=$(grep 'cpu ' /proc/stat)
disk_usage=$(df -h | grep '/dev/sda1')

# Write to local file
echo "$date $cpu_usage" >> /var/log/stats.log

# Email script if high
if [ $cpu > 80 ]; then
  python send_email.py "Alert!"
fi

# ‚ö†Ô∏è ISSUES:
# - Script crashes? No monitoring.
# - One server down? No stats.
# - Hard to graph.</code></pre>
                </div>

                <div style="background: #dcfce7; padding: 20px; border-radius: 8px; border: 1px solid #16a34a;">
                    <h4 style="color: #15803d;">‚úÖ With CloudWatch</h4>
                    <pre style="background: #052e16; border-color: #14532d;"><code># NO CODE REQUIRED for standard metrics

# 1. AWS Agent runs automatically
# 2. Data streamed to CloudWatch
# 3. Alarms evaluated on AWS Cloud
# 4. Actions triggered instantly

# Benefits:
# - Resilient (won't crash with server)
# - Centralized (all servers in one place)
# - Graphs automatically generated</code></pre>
                </div>
            </div>

            <h2><span class="emoji">üß™</span> Interactive Lab: Monitor a Python Script</h2>
            <p>Let's use Python to send custom data to CloudWatch and trigger an alarm. <strong>You become the
                    resource!</strong></p>

            <div class="analogy-box">
                <h3>üéØ Lab Objective</h3>
                <p><strong>Goal:</strong> Monitor a "Heartbeat" script.</p>
                <ol>
                    <li><strong>Script:</strong> Sends a random number (HeartRate) to CloudWatch every 5 seconds.</li>
                    <li><strong>Alarm:</strong> Triggers if HeartRate > 90.</li>
                </ol>
            </div>

            <h3>Step 1: The Producer Script</h3>
            <p>This script mimics a server or application reporting its health.</p>

            <div class="example-box">
                <h4>Python: Send Custom Metric</h4>
                <pre><code>import boto3
import random
import time

cloudwatch = boto3.client('cloudwatch', region_name='us-east-1')

print("üíì Starting Heartbeat Monitor...")

while True:
    # Simulate heart rate (mostly normal, sometimes high)
    heart_rate = random.randint(60, 100)
    if random.random() > 0.8: heart_rate += 40  # Spike!
    
    print(f"Sending HeartRate: {heart_rate}")
    
    cloudwatch.put_metric_data(
        Namespace='MyPythonApp',
        MetricData=[
            {
                'MetricName': 'HeartRate',
                'Dimensions': [{'Name': 'User', 'Value': 'DemoUser'}],
                'Value': heart_rate,
                'Unit': 'Count'
            },
        ]
    )
    time.sleep(5)</code></pre>
            </div>

            <h3>Step 2: Create the Alarm (Infrastructure as Code)</h3>

            <div class="example-box">
                <h4>Python: Create CloudWatch Alarm</h4>
                <pre><code>import boto3

cw = boto3.client('cloudwatch', region_name='us-east-1')

cw.put_metric_alarm(
    AlarmName='HighHeartRateAlarm',
    MetricName='HeartRate',
    Namespace='MyPythonApp',
    Statistic='Average',
    Period=10,            # Check every 10 seconds
    EvaluationPeriods=1,  # Trigger after 1 bad check
    Threshold=90.0,       # Limit
    ComparisonOperator='GreaterThanThreshold',
    AlarmActions=['arn:aws:sns:us-east-1:123456789012:MyTopic'], # Optional: Send Email
    Dimensions=[{'Name': 'User', 'Value': 'DemoUser'}]
)
print("‚úÖ Alarm Created: Warn if HeartRate > 90")</code></pre>
            </div>

            <h2><span class="emoji">üß†</span> Knowledge Check</h2>

            <div class="concept-box"
                style="background: linear-gradient(135deg, #e0f2fe 0%, #bae6fd 100%); border-left: 6px solid #0284c7;">
                <div id="quiz-container">
                    <!-- Question 1 -->
                    <div class="question" style="margin-bottom: 20px;">
                        <p><strong>1. You want to monitor the memory usage of an EC2 instance. Where do you
                                look?</strong></p>
                        <button onclick="checkAnswer(this, false)"
                            style="padding: 8px 15px; margin: 5px; cursor: pointer; border-radius: 5px; border: 1px solid #ccc;">Standard
                            Metrics (It's there by default)</button>
                        <button onclick="checkAnswer(this, true)"
                            style="padding: 8px 15px; margin: 5px; cursor: pointer; border-radius: 5px; border: 1px solid #ccc;">Custom
                            Metrics (Requires CloudWatch Agent)</button>
                        <div class="feedback" style="margin-top: 10px; padding: 10px; display: none;"></div>
                    </div>

                    <!-- Question 2 -->
                    <div class="question" style="margin-bottom: 20px;">
                        <p><strong>2. Your alarm is flaping between OK and ALARM states every minute. What should you
                                adjust?</strong></p>
                        <button onclick="checkAnswer(this, true)"
                            style="padding: 8px 15px; margin: 5px; cursor: pointer; border-radius: 5px; border: 1px solid #ccc;">Evaluation
                            Period (Increase it to wait for sustained spikes)</button>
                        <button onclick="checkAnswer(this, false)"
                            style="padding: 8px 15px; margin: 5px; cursor: pointer; border-radius: 5px; border: 1px solid #ccc;">Threshold
                            (Make it lower)</button>
                        <div class="feedback" style="margin-top: 10px; padding: 10px; display: none;"></div>
                    </div>
                </div>

                <script>
                    function checkAnswer(btn, isCorrect) {
                        const feedback = btn.parentNode.querySelector('.feedback');
                        feedback.style.display = 'block';

                        // Reset buttons
                        const buttons = btn.parentNode.querySelectorAll('button');
                        buttons.forEach(b => {
                            b.style.background = '#fff';
                            b.style.color = '#333';
                        });

                        if (isCorrect) {
                            btn.style.background = '#10b981';
                            btn.style.color = 'white';
                            feedback.innerHTML = '‚úÖ <strong>Correct!</strong>';
                            feedback.style.color = '#065f46';
                            feedback.style.background = '#d1fae5';
                        } else {
                            btn.style.background = '#ef4444';
                            btn.style.color = 'white';
                            feedback.innerHTML = '‚ùå <strong>Incorrect.</strong> EC2 Hypervisor cannot see OS memory.';
                            feedback.style.color = '#991b1b';
                            feedback.style.background = '#fee2e2';
                        }
                    }
                </script>
            </div>

        </div>
    </div>
    <!-- AI Assistant -->
    <div id="ai-assistant-btn"
        style="position: fixed; bottom: 20px; right: 20px; background: #000; color: #fff; padding: 15px; border-radius: 50px; cursor: pointer; box-shadow: 0 4px 10px rgba(0,0,0,0.3); font-weight: bold; display: flex; align-items: center; gap: 10px; z-index: 1000; transition: transform 0.2s;">
        <span>ü§ñ</span> Ask AI
    </div>
    <div id="ai-modal"
        style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 1001; justify-content: center; align-items: center;">
        <div
            style="background: white; padding: 30px; border-radius: 15px; max-width: 500px; width: 90%; position: relative;">
            <h2 style="margin-top: 0; color: #333;">ü§ñ AI Prompt Helper</h2>
            <p style="color: #666;">Copy to ChatGPT/Gemini:</p>
            <textarea id="ai-prompt-text"
                style="width: 100%; height: 150px; padding: 10px; border: 2px solid #ddd; border-radius: 8px; margin: 15px 0; font-family: monospace;"></textarea>
            <div style="display: flex; gap: 10px; justify-content: flex-end;">
                <button onclick="document.getElementById('ai-modal').style.display='none'"
                    style="padding: 10px 20px; border: none; background: #eee; cursor: pointer; border-radius: 5px;">Close</button>
                <button
                    onclick="navigator.clipboard.writeText(document.getElementById('ai-prompt-text').value); alert('Copied!')"
                    style="padding: 10px 20px; border: none; background: #FF6B4A; color: white; cursor: pointer; border-radius: 5px;">Copy
                    Prompt</button>
            </div>
        </div>
    </div>
    <script>
        document.getElementById('ai-assistant-btn').onclick = () => document.getElementById('ai-modal').style.display = 'flex';
        document.getElementById('ai-prompt-text').value = `I am reading the "${document.title}" module.\n\nI am confused about this topic.\n\nCan you explain it simply?`; 
    </script>
</body>

</html>