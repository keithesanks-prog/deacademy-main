<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cloud Antics: Time Travel & Fail Safe</title>
    <!-- Learning Tracker -->
    <script src="../learning_tracker.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Fredoka:wght@400;600&family=Nunito:wght@400;700&display=swap');

        body {
            font-family: 'Nunito', sans-serif;
            background-color: #ecfeff;
            /* Light Cyan/Blue for Time/Ice theme */
            color: #333;
            line-height: 1.6;
            margin: 0;
            padding: 0;
        }

        .container {
            max-width: 900px;
            margin: 40px auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.1);
            overflow: hidden;
            border-bottom: 8px solid #0891b2;
        }

        .header {
            background: #06b6d4;
            color: white;
            padding: 40px;
            text-align: center;
            border-bottom: 8px solid #0891b2;
        }

        .header h1 {
            font-family: 'Fredoka', sans-serif;
            font-size: 3em;
            margin: 0;
            text-shadow: 3px 3px 0px rgba(0, 0, 0, 0.2);
        }

        .content-block {
            padding: 40px;
        }

        .dialogue-box {
            background: #f0fdfa;
            border-left: 6px solid #0891b2;
            padding: 20px;
            margin-bottom: 30px;
            border-radius: 0 10px 10px 0;
            font-size: 1.1em;
        }

        .rob {
            font-weight: bold;
            color: #0e7490;
            font-family: 'Fredoka', sans-serif;
            font-size: 1.2em;
        }

        .analogy-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin: 40px 0;
        }

        .analogy-card {
            background: #fff;
            border: 2px solid #ddd;
            padding: 20px;
            border-radius: 12px;
            transition: transform 0.2s;
        }

        .analogy-card:hover {
            transform: translateY(-5px);
        }

        .card-title {
            font-family: 'Fredoka', sans-serif;
            font-size: 1.5em;
            margin-bottom: 10px;
            color: #0891b2;
        }

        .icon-large {
            font-size: 4em;
            display: block;
            margin-bottom: 10px;
            text-align: center;
        }

        .code-snippet {
            background: #164e63;
            color: #cffafe;
            padding: 15px;
            border-radius: 8px;
            font-family: monospace;
            margin-top: 10px;
            font-size: 0.9em;
            overflow-x: auto;
        }

        /* Progress Sidebar */
        .progress-sidebar {
            position: fixed;
            left: 20px;
            top: 50%;
            transform: translateY(-50%);
            background: white;
            border-radius: 12px;
            padding: 20px 15px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15);
            width: 220px;
            z-index: 1000;
        }

        .progress-title {
            font-family: 'Fredoka', sans-serif;
            font-size: 0.9em;
            color: #0891b2;
            margin-bottom: 15px;
            text-align: center;
            border-bottom: 2px solid #ecfeff;
            padding-bottom: 8px;
        }

        .progress-step {
            display: flex;
            align-items: center;
            margin: 12px 0;
            padding: 8px;
            border-radius: 6px;
            transition: all 0.2s;
            text-decoration: none;
            color: #666;
            font-size: 0.85em;
        }

        .progress-step:hover {
            background: #f0fdfa;
            transform: translateX(3px);
        }

        .progress-step.active {
            background: #06b6d4;
            color: white;
            font-weight: bold;
        }

        .progress-step.completed {
            background: #d1fae5;
            color: #065f46;
        }

        .step-icon {
            margin-right: 8px;
            font-size: 1.2em;
        }

        .step-text {
            flex: 1;
            line-height: 1.3;
        }

        @media (max-width: 1400px) {
            .progress-sidebar {
                display: none;
            }
        }
    </style>
</head>

<body data-module-name="02_snowflake_snowflake_time_travel_antics">

    <!-- Progress Sidebar -->
    <div class="progress-sidebar">
        <div class="progress-title">üìö Data Protection Path</div>

        <a href="snowflake_loading_antics.html" class="progress-step completed">
            <span class="step-icon">‚úÖ</span>
            <span class="step-text">Loading</span>
        </a>

        <a href="snowflake_streams_antics.html" class="progress-step completed">
            <span class="step-icon">‚úÖ</span>
            <span class="step-text">Streams</span>
        </a>

        <a href="snowflake_tasks_antics.html" class="progress-step completed">
            <span class="step-icon">‚úÖ</span>
            <span class="step-text">Tasks</span>
        </a>

        <a href="snowflake_time_travel_antics.html" class="progress-step active">
            <span class="step-icon">‚è≥</span>
            <span class="step-text">Time Travel & FS</span>
        </a>
    </div>

    <!-- Nav -->
    <a href="../TRAINING_HUB.html"
        style="display: inline-block; margin: 20px; text-decoration: none; color: #333; font-weight: bold;">‚¨ÖÔ∏è Back to
        Hub</a>

    <div class="container">
        <div class="header">
            <h1>Cloud Antics</h1>
            <p>Time Travel & Fail Safe</p>
        </div>

        <div class="content-block">

            <div class="dialogue-box">
                <span class="rob">Rob:</span> Oops! Did you just DROP that production table? üò±
                <br>
                Or maybe updated 1 million rows with the wrong `WHERE` clause?
                <br><br>
                In the old days, you'd be calling the backup team (and updating your resume). In Snowflake, we just use
                the <strong>Time Machine</strong>.
            </div>

            <!-- The Problem Section (From User Slide) -->
            <div
                style="margin-bottom: 40px; border: 2px dashed #ef4444; padding: 25px; border-radius: 12px; background: #fef2f2;">
                <h3 style="color: #b91c1c; margin-top: 0;">üí• The Problem: "To Err is Human"</h3>
                <p>Mistakes happen. Traditional backups are slow and hard to manage.</p>
                <div style="display: flex; justify-content: space-around; margin-top: 20px; text-align: center;">
                    <div>
                        <div style="font-size: 2em;">üóëÔ∏è</div>
                        <p style="font-size: 0.9em; font-weight: bold; color: #7f1d1d;">Tables Dropped</p>
                    </div>
                    <div>
                        <div style="font-size: 2em;">üìù</div>
                        <p style="font-size: 0.9em; font-weight: bold; color: #7f1d1d;">Rows Deleted</p>
                    </div>
                    <div>
                        <div style="font-size: 2em;">üîß</div>
                        <p style="font-size: 0.9em; font-weight: bold; color: #7f1d1d;">Schemas Edited</p>
                    </div>
                </div>
            </div>

            <div class="analogy-grid">
                <!-- Time Travel -->
                <div class="analogy-card" style="border-top: 5px solid #06b6d4;">
                    <div class="icon-large">üèéÔ∏èüí®</div>
                    <div class="card-title">Time Travel</div>
                    <div class="vs-badge"
                        style="background: #06b6d4; color: white; padding: 2px 8px; border-radius: 4px;">USER CONTROLLED
                    </div>
                    <p><strong>The "Oops" Button.</strong></p>
                    <p>Query data as it existed in the past. Undrop tables instantly.</p>
                    <ul style="font-size: 0.9em; color: #555;">
                        <li><strong>Standard:</strong> 1 Day</li>
                        <li><strong>Enterprise:</strong> Up to 90 Days</li>
                    </ul>
                </div>

                <!-- Fail Safe -->
                <div class="analogy-card" style="border-top: 5px solid #3b82f6;">
                    <div class="icon-large">üè¶</div>
                    <div class="card-title">Fail Safe</div>
                    <div class="vs-badge"
                        style="background: #3b82f6; color: white; padding: 2px 8px; border-radius: 4px;">SYSTEM
                        CONTROLLED</div>
                    <p><strong>The Doomsday Vault.</strong></p>
                    <p>When Time Travel expires, data moves here for <strong>7 days</strong>.</p>
                    <p style="font-size: 0.9em; color: #555;">Only Snowflake Support can recover from here.</p>
                </div>
            </div>

            <!-- The Solution Details (From User Slide) -->
            <div
                style="background: #ecfeff; border: 2px solid #06b6d4; border-radius: 12px; padding: 25px; margin-bottom: 40px;">
                <h3 style="color: #0e7490; margin-top: 0;">üõ†Ô∏è The Solution: Time Travel</h3>
                <p>Snowflake's continuous data protection allows you to:</p>
                <ul style="color: #444;">
                    <li><strong>Undo Mistakes:</strong> Fix drops, deletes, and bad edits immediately.</li>
                    <li><strong>Historical Access:</strong> Query data exactly as it looked in the past.</li>
                    <li><strong>No Backups Needed:</strong> It's automatic. Backup/Restore from time ID.</li>
                </ul>
            </div>

            <!-- Lab Phase 1: Undrop -->
            <div
                style="background: #f0f9ff; border: 2px solid #0ea5e9; border-radius: 12px; padding: 25px; margin-top: 40px; margin-bottom: 30px;">
                <div style="float: right; font-size: 3em;">üîô</div>
                <h3 style="color: #0369a1; margin-top: 0; border-bottom: 2px solid #bae6fd; padding-bottom: 10px;">üß™
                    Lab Phase 1: The "Undo" Button (UNDROP)</h3>
                <p>The most common heart-attack moment: Dropping the wrong table.</p>

                <div class="substep" style="margin-bottom: 20px;">
                    <strong style="color: #0284c7;">Step 1: The Mistake üò±</strong>
                    <div class="code-snippet">
                        <span style="color: #94a3b8;">-- Accidentally dropping the wrong table</span><br>
                        <span style="color: #f472b6;">DROP TABLE</span> IMPORTANT_CUSTOMER_DATA;
                    </div>
                    <p style="color: #dc2626; font-weight: bold; font-size: 0.9em; margin-top: 5px;">> Table
                        IMPORTANT_CUSTOMER_DATA successfully dropped.</p>
                </div>

                <div class="substep" style="margin-bottom: 20px;">
                    <strong style="color: #0284c7;">Step 2: The Fix üòå</strong>
                    <p style="font-size: 0.9em; color: #555;">No backups. No phone calls. Just one command.</p>
                    <div class="code-snippet">
                        <span style="color: #22d3ee;">UNDROP TABLE</span> IMPORTANT_CUSTOMER_DATA;
                    </div>
                    <p style="color: #059669; font-weight: bold; font-size: 0.9em; margin-top: 5px;">> Table
                        IMPORTANT_CUSTOMER_DATA successfully restored.</p>
                </div>

                <div class="dialogue-box" style="margin-top: 20px; font-size: 0.9em;">
                    <span class="rob">Rob:</span> That's it. It‚Äôs back. Like it never happened. This works for Tables,
                    Schemas, and Databases!
                </div>
            </div>

            <!-- Configuring Retention -->
            <div
                style="background: #fff; border: 2px solid #ddd; border-left: 6px solid #fbbf24; border-radius: 12px; padding: 25px; margin-top: 40px; margin-bottom: 30px;">
                <h3 style="color: #b45309; margin-top: 0; font-family: 'Fredoka', sans-serif;">‚öôÔ∏è Configuring the
                    Machine (Retention)</h3>
                <p>How far back can you go? That depends on your <strong>Retention Period</strong> (the Time Machine's
                    dial).</p>

                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-top: 20px;">
                    <div>
                        <strong style="color: #b45309;">1. The Default (Standard)</strong>
                        <p style="font-size: 0.9em; color: #555;">By default, every table comes with <strong>1
                                Day</strong> of Time Travel. It's automatic!</p>
                        <div class="code-snippet">
                            <span style="color: #c084fc;">CREATE TABLE</span> my_table (c1 <span
                                style="color: #22d3ee;">int</span>);
                        </div>
                    </div>

                    <div>
                        <strong style="color: #b45309;">2. The Upgrade (Enterprise)</strong>
                        <p style="font-size: 0.9em; color: #555;">Need more history? You can set it up to <strong>90
                                Days</strong> (requires Enterprise Edition).</p>
                        <div class="code-snippet">
                            <span style="color: #c084fc;">CREATE TABLE</span> my_table (c1 <span
                                style="color: #22d3ee;">int</span>)<br>
                            <span style="color: #fbbf24;">SET</span> DATA_RETENTION_TIME_IN_DAYS = 90;
                        </div>
                    </div>
                </div>

                <div style="margin-top: 20px;">
                    <strong style="color: #b45309;">üëâ Changing the Dial Later</strong>
                    <p style="font-size: 0.9em; color: #555;">You can change retention on the fly with
                        <code>ALTER TABLE</code>.
                    </p>
                    <div class="code-snippet">
                        <span style="color: #c084fc;">ALTER TABLE</span> my_table <br>
                        <span style="color: #fbbf24;">SET</span> DATA_RETENTION_TIME_IN_DAYS = 30;
                    </div>
                </div>
            </div>

            <!-- How It Works (Micro-partitions) -->
            <div
                style="background: #202e3b; color: white; border-radius: 12px; padding: 30px; margin-top: 40px; margin-bottom: 30px; position: relative; overflow: hidden;">
                <div style="position: absolute; top: -10px; right: 20px; font-size: 5em; opacity: 0.1;">üßä</div>
                <h3 style="color: #67e8f9; margin-top: 0; font-family: 'Fredoka', sans-serif;">üîß Under the Hood: How
                    does it work?</h3>
                <p>Time Travel isn't magic. It's architecture. It relies on <strong>Immutable Micro-partitions</strong>.
                </p>

                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 30px; margin-top: 25px;">
                    <div>
                        <strong style="color: #a5f3fc; font-size: 1.1em;">1. They are Immutable</strong>
                        <p style="font-size: 0.9em; color: #cbd5e1;">Once Snowflake writes data to a file
                            (Micro-partition), it <strong>NEVER</strong> modifies it. It is frozen in time.</p>
                    </div>
                    <div>
                        <strong style="color: #a5f3fc; font-size: 1.1em;">2. Versioning</strong>
                        <p style="font-size: 0.9em; color: #cbd5e1;">When you "UPDATE" a row, Snowflake doesn't touch
                            the old file. It creates a <strong>NEW version</strong> with the change and keeps the old
                            one.</p>
                    </div>
                </div>

                <div
                    style="background: rgba(255,255,255,0.1); padding: 15px; border-radius: 8px; margin-top: 20px; text-align: center;">
                    <p style="margin: 0; font-style: italic; color: #e2e8f0;">
                        "We keep the older versions for your retention period (1-90 days).<br>That's why you can query
                        the past!"
                    </p>
                </div>
            </div>

            <!-- The Lifecycle Visual (From Timeline Slide) -->
            <div style="margin-top: 30px; margin-bottom: 40px;">
                <h4 style="color: #64748b; font-family: 'Fredoka', sans-serif; text-align: center;">‚è≥ The Timeline of a
                    Micro-partition (e.g., Retention = 3 Days)</h4>

                <div
                    style="display: flex; align-items: center; justify-content: center; gap: 15px; background: #f8fafc; padding: 20px; border-radius: 12px; border: 2px dashed #cbd5e1; overflow-x: auto;">

                    <!-- Current State -->
                    <div style="text-align: center;">
                        <div
                            style="background: #c084fc; color: white; padding: 10px; border-radius: 8px; font-weight: bold; width: 60px; margin: 0 auto;">
                            v.2</div>
                        <p style="font-size: 0.8em; color: #6b21a8; font-weight: bold; margin-top: 5px;">Active</p>
                    </div>

                    <div style="font-size: 1.5em; color: #94a3b8;">‚¨ÖÔ∏è</div>

                    <!-- Time Travel Pipe -->
                    <div
                        style="background: #e0f2fe; padding: 15px; border-radius: 10px; border: 2px solid #7dd3fc; display: flex; gap: 15px;">
                        <div style="text-align: center;">
                            <div
                                style="background: #0ea5e9; color: white; padding: 10px; border-radius: 8px; font-weight: bold; width: 60px; opacity: 0.9;">
                                v.1</div>
                            <p style="font-size: 0.8em; color: #0369a1; margin-top: 5px;">Day 1</p>
                        </div>
                        <div style="font-size: 1.5em; color: #7dd3fc;">‚ûú</div>
                        <div style="text-align: center;">
                            <div
                                style="background: #0ea5e9; color: white; padding: 10px; border-radius: 8px; font-weight: bold; width: 60px; opacity: 0.7;">
                                v.1</div>
                            <p style="font-size: 0.8em; color: #0369a1; margin-top: 5px;">Day 2</p>
                        </div>
                        <div style="font-size: 1.5em; color: #7dd3fc;">‚ûú</div>
                        <div style="text-align: center;">
                            <div
                                style="background: #0ea5e9; color: white; padding: 10px; border-radius: 8px; font-weight: bold; width: 60px; opacity: 0.5;">
                                v.1</div>
                            <p style="font-size: 0.8em; color: #0369a1; margin-top: 5px;">Day 3</p>
                        </div>
                    </div>

                    <div style="font-size: 1.5em; color: #94a3b8;">‚§µÔ∏è</div>

                    <!-- Expired -->
                    <div style="text-align: center;">
                        <div
                            style="background: #94a3b8; color: white; padding: 10px; border-radius: 8px; font-weight: bold; width: 60px; margin: 0 auto; text-decoration: line-through;">
                            v.1</div>
                        <p style="font-size: 0.8em; color: #64748b; font-weight: bold; margin-top: 5px;">Expired</p>
                    </div>

                </div>
                <p style="text-align: center; font-size: 0.85em; color: #666; margin-top: 10px;">
                    When you change data, v.1 enters the history pipe. It lives there for X days, then drops off.
                </p>
            </div>

            <!-- Lab Phase 2: The "Delete & Restore" Scenario -->
            <div
                style="background: #f0f9ff; border: 2px solid #0ea5e9; border-radius: 12px; padding: 25px; margin-top: 40px; margin-bottom: 30px;">
                <div style="float: right; font-size: 3em;">üßô‚Äç‚ôÇÔ∏è</div>
                <h3 style="color: #0369a1; margin-top: 0; border-bottom: 2px solid #bae6fd; padding-bottom: 10px;">üß™
                    Lab Phase 2: The "Delete & Restore" Scenario</h3>
                <p>Let's simulate a real disaster: Losing Mark.</p>

                <div class="substep" style="margin-bottom: 20px;">
                    <strong style="color: #0284c7;">Step 1: Setup & The Mistake</strong>
                    <div class="code-snippet">
                        <span style="color: #94a3b8;">-- 1. Insert Data (John, Sam, Elan, Mark)</span><br>
                        <span style="color: #60a5fa;">INSERT INTO</span> TIMETRAVEL_TABLE <span
                            style="color: #60a5fa;">VALUES</span> (1, 'John'), (2, 'Sam'), (3, 'Elan'), (4,
                        'Mark');<br><br>
                        <span style="color: #94a3b8;">-- 2. Capture Current Time (Optional Marker)</span><br>
                        <span style="color: #60a5fa;">SET</span> RETENTION_TIME = CURRENT_TIMESTAMP;<br><br>
                        <span style="color: #94a3b8;">-- 3. THE ACCIDENT (Delete Mark)</span><br>
                        <span style="color: #f472b6;">DELETE FROM</span> TIMETRAVEL_TABLE <span
                            style="color: #60a5fa;">WHERE</span> ID = 4;
                    </div>
                </div>

                <div class="substep" style="margin-bottom: 20px;">
                    <strong style="color: #0284c7;">Step 2: Traveling Back (AT & BEFORE)</strong>
                    <p style="font-size: 0.9em; color: #555;">How do we find Mark? We look at the past.</p>
                    <div class="code-snippet">
                        <span style="color: #94a3b8;">-- Option A: Using our Timestamp Variable</span><br>
                        <span style="color: #60a5fa;">SELECT</span> * <span style="color: #60a5fa;">FROM</span>
                        TIMETRAVEL_TABLE <br>
                        <span style="color: #fbbf24;">AT(TIMESTAMP => $RETENTION_TIME)</span>;<br><br>
                        <span style="color: #94a3b8;">-- Option B: Using the Query ID (Precision)</span><br>
                        <span style="color: #94a3b8;">-- (Assume Query ID of the DELETE statement is
                            '01c05...')</span><br>
                        <span style="color: #60a5fa;">SELECT</span> * <span style="color: #60a5fa;">FROM</span>
                        TIMETRAVEL_TABLE <br>
                        <span style="color: #fbbf24;">BEFORE(STATEMENT =>
                            '01c05741-0001-5da8-000b-078a0005feda')</span>;
                    </div>
                </div>

                <div class="substep" style="margin-bottom: 20px;">
                    <strong style="color: #0284c7;">Step 3: The Restoration (CLONE)</strong>
                    <p style="font-size: 0.9em; color: #555;">Don't just look at him. Bring him back!</p>
                    <div class="code-snippet">
                        <span style="color: #94a3b8;">-- Restore the table to a new name using the history</span><br>
                        <span style="color: #c084fc;">CREATE OR REPLACE TABLE</span> TIMETRAVEL_TABLE_CLONE <span
                            style="color: #60a5fa;">AS</span><br>
                        <span style="color: #60a5fa;">SELECT</span> * <span style="color: #60a5fa;">FROM</span>
                        TIMETRAVEL_TABLE <br>
                        <span style="color: #fbbf24;">BEFORE(STATEMENT =>
                            '01c05741-0001-5da8-000b-078a0005feda')</span>;
                    </div>
                    <p style="color: #059669; font-weight: bold; font-size: 0.9em; margin-top: 5px;">> Mark is back in
                        the CLONE table!</p>
                </div>
            </div>

            <!-- Lab Phase 3: Restoration & Cleanup -->
            <div
                style="background: #f0f9ff; border: 2px solid #0ea5e9; border-radius: 12px; padding: 25px; margin-top: 40px; margin-bottom: 30px;">
                <div style="float: right; font-size: 3em;">‚ôªÔ∏è</div>
                <h3 style="color: #0369a1; margin-top: 0; border-bottom: 2px solid #bae6fd; padding-bottom: 10px;">üß™
                    Lab Phase 3: Complete Restoration</h3>
                <p>We have Mark in the clone. Now let's put him back where he belongs and clean up.</p>

                <div class="substep" style="margin-bottom: 20px;">
                    <strong style="color: #0284c7;">Step 1: Re-Insert Lost Data</strong>
                    <div class="code-snippet">
                        <span style="color: #94a3b8;">-- Insert data back to original table from clone</span><br>
                        <span style="color: #60a5fa;">INSERT INTO</span> TIMETRAVEL_TABLE <br>
                        <span style="color: #60a5fa;">SELECT</span> * <span style="color: #60a5fa;">FROM</span>
                        TIMETRAVEL_TABLE_CLONE;<br><br>
                        <span style="color: #94a3b8;">-- Verify Mark is back</span><br>
                        <span style="color: #60a5fa;">SELECT</span> * <span style="color: #60a5fa;">FROM</span>
                        TIMETRAVEL_TABLE <span style="color: #60a5fa;">ORDER BY</span> ID;
                    </div>
                </div>

                <div class="substep" style="margin-bottom: 20px;">
                    <strong style="color: #0284c7;">Step 2: Cleanup the Clone</strong>
                    <div class="code-snippet">
                        <span style="color: #f472b6;">DROP TABLE</span> TIMETRAVEL_TABLE_CLONE;
                    </div>
                </div>

                <div class="substep" style="margin-bottom: 20px;">
                    <strong style="color: #0284c7;">Step 3: The Ultimate Test (Drop & Undrop)</strong>
                    <p style="font-size: 0.9em; color: #555;">Let's prove the table itself is protected.</p>
                    <div class="code-snippet">
                        <span style="color: #94a3b8;">-- 1. Drop the table (Oh no!)</span><br>
                        <span style="color: #f472b6;">DROP TABLE</span> TIMETRAVEL_TABLE;<br><br>
                        <span style="color: #94a3b8;">-- 2. Verify it's gone (Will fail)</span><br>
                        <span style="color: #60a5fa;">SELECT</span> * <span style="color: #60a5fa;">FROM</span>
                        TIMETRAVEL_TABLE;<br><br>
                        <span style="color: #94a3b8;">-- 3. UNDROP it (The Hero Moment)</span><br>
                        <span style="color: #22d3ee;">UNDROP TABLE</span> TIMETRAVEL_TABLE;
                    </div>
                </div>
            </div>
            <div
                style="background: #1e3a8a; color: white; border-radius: 12px; padding: 25px; margin-top: 50px; margin-bottom: 30px; border: 4px solid #3b82f6;">
                <div style="float: right; font-size: 3em;">üè¶</div>
                <h3 style="color: #93c5fd; margin-top: 0;">üõ°Ô∏è The Doomsday Vault: Fail Safe</h3>
                <p>When the Time Machine (Retention) runs out, data isn't deleted immediately. It falls into the
                    <strong>Fail Safe</strong>.
                </p>

                <ul style="color: #dbeafe; line-height: 1.8;">
                    <li><strong>Duration:</strong> Strictly <strong>7 Days</strong>.</li>
                    <li><strong>Configurable?</strong> <span style="color: #fca5a5; font-weight: bold;">NO.</span> You
                        cannot change this.</li>
                    <li><strong>Access:</strong> <span style="color: #fca5a5; font-weight: bold;">RESTRICTED.</span>
                        Only Snowflake Support can recover from here. It takes time and may cost extra.</li>
                </ul>

                <div
                    style="background: rgba(255,255,255,0.1); padding: 15px; border-radius: 8px; margin-top: 15px; text-align: center; font-style: italic;">
                    "Don't rely on this for operations. This is for actual disasters."
                </div>
            </div>

            <!-- Edition Breakdown Table (From User Slide) -->
            <div style="margin-top: 40px; margin-bottom: 50px;">
                <h3 style="color: #334155; text-align: center; font-family: 'Fredoka', sans-serif;">üìä Feature
                    Capability by Edition</h3>
                <div style="overflow-x: auto;">
                    <table class="metadata-table"
                        style="width: 100%; border-collapse: collapse; margin-top: 15px; background: white; border-radius: 8px; overflow: hidden; box-shadow: 0 2px 10px rgba(0,0,0,0.05);">
                        <thead style="background: #0f172a; color: white;">
                            <tr>
                                <th style="padding: 15px;">Edition</th>
                                <th style="padding: 15px;">Time Travel (1 Day)</th>
                                <th style="padding: 15px;">Time Travel (90 Days)</th>
                                <th style="padding: 15px; background: #1e40af;">Fail Safe (7 Days)</th>
                            </tr>
                        </thead>
                        <tbody style="text-align: center; color: #333;">
                            <tr style="border-bottom: 1px solid #eee;">
                                <td style="padding: 12px; font-weight: bold; text-align: left; padding-left: 20px;">
                                    Standard</td>
                                <td style="color: #059669; font-weight: bold;">‚úÖ</td>
                                <td style="color: #ef4444;">‚ùå</td>
                                <td style="background: #eff6ff; color: #1e40af; font-weight: bold;">‚úÖ</td>
                            </tr>
                            <tr style="border-bottom: 1px solid #eee;">
                                <td style="padding: 12px; font-weight: bold; text-align: left; padding-left: 20px;">
                                    Enterprise +</td>
                                <td style="color: #059669; font-weight: bold;">‚úÖ</td>
                                <td style="color: #059669; font-weight: bold;">‚úÖ</td>
                                <td style="background: #eff6ff; color: #1e40af; font-weight: bold;">‚úÖ</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <p style="text-align: center; font-size: 0.9em; color: #64748b; margin-top: 10px;">
                    <em>* Business Critical and VPS also support the 90-day limit.</em>
                </p>
            </div>

        </div>
    </div>

    <!-- AI Assistant -->
    <div id="ai-assistant-btn"
        style="position: fixed; bottom: 20px; right: 20px; background: #000; color: #fff; padding: 15px; border-radius: 50px; cursor: pointer; box-shadow: 0 4px 10px rgba(0,0,0,0.3); font-weight: bold; display: flex; align-items: center; gap: 10px; z-index: 1000; transition: transform 0.2s;">
        <span>ü§ñ</span> Ask AI
    </div>
    <div id="ai-modal"
        style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 1001; justify-content: center; align-items: center;">
        <div
            style="background: white; padding: 30px; border-radius: 15px; max-width: 500px; width: 90%; position: relative;">
            <h2 style="margin-top: 0; color: #333;">ü§ñ AI Prompt Helper</h2>
            <p style="color: #666;">Copy to ChatGPT/Gemini:</p>
            <textarea id="ai-prompt-text"
                style="width: 100%; height: 150px; padding: 10px; border: 2px solid #ddd; border-radius: 8px; margin: 15px 0; font-family: monospace;"></textarea>
            <div style="display: flex; gap: 10px; justify-content: flex-end;">
                <button onclick="document.getElementById('ai-modal').style.display='none'"
                    style="padding: 10px 20px; border: none; background: #eee; cursor: pointer; border-radius: 5px;">Close</button>
                <button
                    onclick="navigator.clipboard.writeText(document.getElementById('ai-prompt-text').value); alert('Copied!')"
                    style="padding: 10px 20px; border: none; background: #FF6B4A; color: white; cursor: pointer; border-radius: 5px;">Copy
                    Prompt</button>
            </div>
        </div>
    </div>
    <script>
        document.getElementById('ai-assistant-btn').onclick = () => document.getElementById('ai-modal').style.display = 'flex';
        document.getElementById('ai-prompt-text').value = `I am reading the "${document.title}" module.\n\nI am confused about this topic.\n\nCan you explain it simply?`; 
    </script>
</body>

</html>