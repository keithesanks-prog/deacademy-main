<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AWS Data Architecture Patterns</title>
    <!-- Learning Tracker -->
    <script src="../learning_tracker.js"></script>
    <style>
        :root {
            --aws-orange: #FF9900;
            --aws-blue: #232F3E;
            --aws-light-blue: #007CBC;
            --bg-light: #f8f9fa;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            max-width: 1000px;
            margin: 0 auto;
            padding: 20px;
            background-color: var(--bg-light);
        }

        h1 {
            color: var(--aws-blue);
            border-bottom: 5px solid var(--aws-orange);
            padding-bottom: 15px;
            margin-bottom: 30px;
        }

        h2 {
            margin-top: 40px;
            color: var(--aws-blue);
            background: #fff;
            padding: 10px;
            border-left: 5px solid var(--aws-light-blue);
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
        }

        h3 {
            color: var(--aws-orange);
        }

        .card {
            background: white;
            padding: 25px;
            border-radius: 8px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            margin-bottom: 30px;
        }

        .pros-cons {
            display: flex;
            gap: 20px;
            margin-top: 15px;
        }

        .pros,
        .cons {
            flex: 1;
            padding: 15px;
            border-radius: 6px;
        }

        .pros {
            background: #f0fff4;
            border: 1px solid #c3e6cb;
        }

        .cons {
            background: #fdf2f2;
            border: 1px solid #f5c6cb;
        }

        .pros h4 {
            margin-top: 0;
            color: #28a745;
        }

        .cons h4 {
            margin-top: 0;
            color: #dc3545;
        }

        ul {
            padding-left: 20px;
            margin: 0;
        }

        li {
            margin-bottom: 5px;
            font-size: 0.9em;
        }

        /* Mermaid Diagram Placeholder Styling */
        .diagram-box {
            background: white;
            border: 2px dashed #ccc;
            padding: 20px;
            text-align: center;
            border-radius: 8px;
            margin: 20px 0;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
        }

        th,
        td {
            border: 1px solid #ddd;
            padding: 12px;
            text-align: left;
        }

        th {
            background-color: var(--aws-blue);
            color: white;
        }

        tr:nth-child(even) {
            background-color: #f2f2f2;
        }
    </style>
    <!-- Mermaid JS -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mermaid/10.6.1/mermaid.min.js"></script>
    <script>mermaid.initialize({ startOnLoad: true, theme: 'neutral' });</script>
</head>

<body data-module-name="05_system_design_aws_architecture_patterns">

    <!-- Nav -->
    <a href="../TRAINING_HUB.html"
        style="display: inline-block; margin: 20px; text-decoration: none; color: #333; font-weight: bold;">‚¨ÖÔ∏è Back to
        Hub</a>

    <h1>üèõÔ∏è 5 Common AWS Data Architecture Patterns</h1>
    <p>Every Data Engineer needs a toolkit. You don't use a hammer for everything. Here are the 5 patterns you will see
        in 90% of AWS interviews and projects.</p>

    <div style="text-align: center; margin-bottom: 40px;">
        <img src="images/generic_pipeline.png" alt="Generic Data Pipeline"
            style="max-width: 100%; border-radius: 8px; box-shadow: 0 4px 6px rgba(0,0,0,0.1);">
    </div>

    <!-- PATTERN 1 -->
    <div class="card">
        <h2>1. Event Driven Data Processing</h2>
        <p><strong>The "Real-Time Reactor"</strong></p>

        <div class="diagram-box" style="border: none; padding: 0;">
            <img src="images/event_driven.png" alt="Event Driven Architecture"
                style="max-width: 100%; border-radius: 8px;">
        </div>

        <div class="pros-cons">
            <div class="pros">
                <h4>üìå Pros</h4>
                <ul>
                    <li>‚úî <strong>Serverless:</strong> No infrastructure to manage.</li>
                    <li>‚úî <strong>Cost-Efficient:</strong> Pay only for execution time.</li>
                    <li>‚úî <strong>Decoupled:</strong> SNS allows multiple teams to consume the same event.</li>
                    <li>‚úî <strong>Resilient:</strong> SQS + DLQ (Dead Letter Queue) ensures zero data loss.</li>
                </ul>
            </div>
            <div class="cons">
                <h4>‚ùå Cons</h4>
                <ul>
                    <li>‚ùå <strong>Size Limits:</strong> Lambda has memory (6GB) and time (15min) limits.</li>
                    <li>‚ùå <strong>Concurrency:</strong> Default 1000 concurrent executions per region.</li>
                    <li>‚ùå <strong>Not for Bulk:</strong> Processing 1TB of data file-by-file is slow and expensive.</li>
                </ul>
            </div>
        </div>
    </div>

    <!-- PATTERN 2 -->
    <div class="card">
        <h2>2. Batch Processing Pipeline</h2>
        <p><strong>The "Heavy Lifter"</strong></p>

        <div class="diagram-box" style="border: none; padding: 0;">
            <img src="images/glue_batch.png" alt="Batch Processing Architecture"
                style="max-width: 100%; border-radius: 8px;">
        </div>

        <div class="pros-cons">
            <div class="pros">
                <h4>üìå Pros</h4>
                <ul>
                    <li>‚úî <strong>Scale:</strong> GB to TB scale data.</li>
                    <li>‚úî <strong>Serverless Spark:</strong> Power of Spark without managing EMR clusters.</li>
                    <li>‚úî <strong>Schema Detection:</strong> Crawlers auto-infer schema changes.</li>
                    <li>‚úî <strong>Complex ETL:</strong> Joins, filters, and standard Spark SQL logic.</li>
                </ul>
            </div>
            <div class="cons">
                <h4>‚ùå Cons</h4>
                <ul>
                    <li>‚ùå <strong>Startup Time:</strong> Glue jobs have a "cold start" (minutes).</li>
                    <li>‚ùå <strong>Costly for Small Data:</strong> Minimum billing applies.</li>
                    <li>‚ùå <strong>Learning Curve:</strong> Requires PySpark knowledge.</li>
                </ul>
            </div>
        </div>
    </div>

    <!-- PATTERN 3 -->
    <div class="card">
        <h2>3. Serverless Analytics Dashboard</h2>
        <p><strong>The "Lazy Analyst" (In a good way!)</strong></p>

        <div class="diagram-box" style="border: none; padding: 0;">
            <img src="images/athena_dashboard.png" alt="Serverless Analytics Architecture"
                style="max-width: 100%; border-radius: 8px;">
        </div>

        <div class="pros-cons">
            <div class="pros">
                <h4>üìå Pros</h4>
                <ul>
                    <li>‚úî <strong>Zero Ops:</strong> No servers, no clusters, no provisioning.</li>
                    <li>‚úî <strong>Direct S3 Query:</strong> No ETL needed to start querying.</li>
                    <li>‚úî <strong>Pay-Per-Query:</strong> Cheap for ad-hoc analysis.</li>
                    <li>‚úî <strong>Seamless BI:</strong> QuickSight connects natively.</li>
                </ul>
            </div>
            <div class="cons">
                <h4>‚ùå Cons</h4>
                <ul>
                    <li>‚ùå <strong>Performance:</strong> Slower than Redshift for massive joins.</li>
                    <li>‚ùå <strong>Cost Scale:</strong> Frequent, heavy queries get expensive ($5/TB scanned).</li>
                    <li>‚ùå <strong>No Indexes:</strong> It scans files (partitioning helps, but it is not a DB).</li>
                </ul>
            </div>
        </div>
    </div>

    <!-- PATTERN 4 -->
    <div class="card">
        <h2>4. Database Migration (DMS)</h2>
        <p><strong>The "Lift and Shift"</strong></p>

        <div class="diagram-box">
            <div class="mermaid">
                graph LR
                Src[On-Prem Oracle] -->|Replication Instance| DMS["AWS DMS"]
                DMS -->|CDC Stream| Tgt[("AWS RDS (Aurora)")]
            </div>
        </div>

        <div class="pros-cons">
            <div class="pros">
                <h4>üìå Pros</h4>
                <ul>
                    <li>‚úî <strong>Zero Downtime:</strong> Continuous Data Replication (CDC) allows live migration.</li>
                    <li>‚úî <strong>Schema Conversion:</strong> SCT Tool converts Oracle PL/SQL to Postgres automatically.
                    </li>
                </ul>
            </div>
            <div class="cons">
                <h4>‚ùå Cons</h4>
                <ul>
                    <li>‚ùå <strong>LOB Limitations:</strong> Large Binary Objects (Images) can be slow.</li>
                    <li>‚ùå <strong>Data Type Mapping:</strong> Manual intervention needed for complex custom types.</li>
                </ul>
            </div>
        </div>
    </div>

    <!-- PATTERN 5 -->
    <div class="card">
        <h2>5. The Data Lakehouse (Modern)</h2>
        <p><strong>The "Best of Both Worlds"</strong></p>
        <p>Combining S3 (Cheap Storage) with Redshift Spectrum (Power Query).</p>
        <p><em>(See the Redshift Guide for details on this!)</em></p>
    </div>

    <!-- AI Assistant -->
    <div id="ai-assistant-btn"
        style="position: fixed; bottom: 20px; right: 20px; background: #000; color: #fff; padding: 15px; border-radius: 50px; cursor: pointer; box-shadow: 0 4px 10px rgba(0,0,0,0.3); font-weight: bold; display: flex; align-items: center; gap: 10px; z-index: 1000; transition: transform 0.2s;">
        <span>ü§ñ</span> Ask AI
    </div>
    <div id="ai-modal"
        style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 1001; justify-content: center; align-items: center;">
        <div
            style="background: white; padding: 30px; border-radius: 15px; max-width: 500px; width: 90%; position: relative;">
            <h2 style="margin-top: 0; color: #333;">ü§ñ AI Prompt Helper</h2>
            <p style="color: #666;">Copy to ChatGPT/Gemini:</p>
            <textarea id="ai-prompt-text"
                style="width: 100%; height: 150px; padding: 10px; border: 2px solid #ddd; border-radius: 8px; margin: 15px 0; font-family: monospace;"></textarea>
            <div style="display: flex; gap: 10px; justify-content: flex-end;">
                <button onclick="document.getElementById('ai-modal').style.display='none'"
                    style="padding: 10px 20px; border: none; background: #eee; cursor: pointer; border-radius: 5px;">Close</button>
                <button
                    onclick="navigator.clipboard.writeText(document.getElementById('ai-prompt-text').value); alert('Copied!')"
                    style="padding: 10px 20px; border: none; background: #FF6B4A; color: white; cursor: pointer; border-radius: 5px;">Copy
                    Prompt</button>
            </div>
        </div>
    </div>
    <script>
        document.getElementById('ai-assistant-btn').onclick = () => document.getElementById('ai-modal').style.display = 'flex';
        document.getElementById('ai-prompt-text').value = `I am reading the "${document.title}" module.\n\nI am confused about this topic.\n\nCan you explain it simply?`; 
    </script>
</body> OnPrem[(On-Prem SQL)] -->|CDC| DMS[AWS DMS]
DMS -->|Replicate| RDS[(AWS RDS / Aurora)]
SCT[Schema Conversion Tool] -.->|Convert Schema| RDS
</div>
</div>

<div class="pros-cons">
    <div class="pros">
        <h4>üìå Pros</h4>
        <ul>
            <li>‚úî <strong>Heterogeneous:</strong> SQL Server ‚Üí Postgres? No problem.</li>
            <li>‚úî <strong>Minimal Downtime:</strong> Continuous replication (CDC) keeps sync.</li>
            <li>‚úî <strong>Managed:</strong> Handles the complex networking and encryption.</li>
        </ul>
    </div>
    <div class="cons">
        <h4>‚ùå Cons</h4>
        <ul>
            <li>‚ùå <strong>Manual Work:</strong> Stored procedures rarely convert automatically (SCT helps).</li>
            <li>‚ùå <strong>DataType Issues:</strong> Some proprietary features don't translate.</li>
            <li>‚ùå <strong>Bandwidth:</strong> Bringing textabytes over the internet is slow.</li>
        </ul>
    </div>
</div>
</div>

<!-- PATTERN 5 -->
<div class="card">
    <h2>5. Real-Time Streaming (Kinesis)</h2>
    <p><strong>The "Fire Hose"</strong></p>

    <div class="diagram-box">
        <div class="mermaid">
            graph LR
            IoT[IoT Sensors] -->|Stream| K[Kinesis Data Stream]
            K -->|Consume| Flink[Kinesis Analytics]
            K -->|Consume| FH[Kinesis Firehose]
            FH -->|Buffer & Write| S3[(S3 / Redshift)]
        </div>
    </div>

    <div class="pros-cons">
        <div class="pros">
            <h4>üìå Pros</h4>
            <ul>
                <li>‚úî <strong> milliseconds Latency:</strong> True real-time.</li>
                <li>‚úî <strong>Multiple Consumers:</strong> Analytics and Archival happen simultaneously.</li>
                <li>‚úî <strong>Replay:</strong> You can "rewind" the stream (default 24h retention).</li>
            </ul>
        </div>
        <div class="cons">
            <h4>‚ùå Cons</h4>
            <ul>
                <li>‚ùå <strong>Complexity:</strong> Shard management (though On-Demand exists now).</li>
                <li>‚ùå <strong>Cost:</strong> Paying for provisioned throughput 24/7.</li>
                <li>‚ùå <strong>Retention:</strong> Not for long-term storage (max 7 days).</li>
            </ul>
        </div>
    </div>
</div>

<div class="card" style="border-left: 5px solid #28a745;">
    <h2>Summary: When to use what?</h2>
    <table>
        <tr>
            <th>Pattern</th>
            <th>Best Use Case</th>
            <th>Key Technologies</th>
        </tr>
        <tr>
            <td><strong>1. Event Driven</strong></td>
            <td>Individual file processing, image resizing, notifications.</td>
            <td>Lambda, SNS, SQS</td>
        </tr>
        <tr>
            <td><strong>2. Batch Processing</strong></td>
            <td>Nightly ETL, heavy transformations on TBs of data.</td>
            <td>AWS Glue, Spark</td>
        </tr>
        <tr>
            <td><strong>3. Serverless Dashboard</strong></td>
            <td>Ad-hoc analysis on raw logs, quick proofs of concepts.</td>
            <td>Athena, QuickSight</td>
        </tr>
        <tr>
            <td><strong>4. DB Migration</strong></td>
            <td>Moving on-premise databases to the cloud.</td>
            <td>DMS, SCT</td>
        </tr>
        <tr>
            <td><strong>5. Streaming</strong></td>
            <td>IoT data, clickstreams, fraud detection (sub-second needs).</td>
            <td>Kinesis, Flink</td>
        </tr>
    </table>
</div>

<!-- AI Assistant -->
<div id="ai-assistant-btn"
    style="position: fixed; bottom: 20px; right: 20px; background: #000; color: #fff; padding: 15px; border-radius: 50px; cursor: pointer; box-shadow: 0 4px 10px rgba(0,0,0,0.3); font-weight: bold; display: flex; align-items: center; gap: 10px; z-index: 1000; transition: transform 0.2s;">
    <span>ü§ñ</span> Ask AI
</div>
<div id="ai-modal"
    style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 1001; justify-content: center; align-items: center;">
    <div
        style="background: white; padding: 30px; border-radius: 15px; max-width: 500px; width: 90%; position: relative;">
        <h2 style="margin-top: 0; color: #333;">ü§ñ AI Prompt Helper</h2>
        <p style="color: #666;">Copy to ChatGPT/Gemini:</p>
        <textarea id="ai-prompt-text"
            style="width: 100%; height: 150px; padding: 10px; border: 2px solid #ddd; border-radius: 8px; margin: 15px 0; font-family: monospace;"></textarea>
        <div style="display: flex; gap: 10px; justify-content: flex-end;">
            <button onclick="document.getElementById('ai-modal').style.display='none'"
                style="padding: 10px 20px; border: none; background: #eee; cursor: pointer; border-radius: 5px;">Close</button>
            <button
                onclick="navigator.clipboard.writeText(document.getElementById('ai-prompt-text').value); alert('Copied!')"
                style="padding: 10px 20px; border: none; background: #FF6B4A; color: white; cursor: pointer; border-radius: 5px;">Copy
                Prompt</button>
        </div>
    </div>
</div>
<script>
    document.getElementById('ai-assistant-btn').onclick = () => document.getElementById('ai-modal').style.display = 'flex';
    document.getElementById('ai-prompt-text').value = `I am reading the "${document.title}" module.\n\nI am confused about Pattern 3 (Serverless Dashboard).\n\nCan you explain the trade-offs?`; 
</script>
</body>

</html>